(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a;}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){Object.defineProperty(exports,
"__esModule",{value:true});exports.MobileApi=void 0;const constants_1=require("../constants");const Version_1=require("../constants/Version");const Server_1=require("../server/Server");const ui_1=require("../ui");class MobileApi{static getInstance(){if(!this.instance)this.instance=new MobileApi;return this.instance}static timestamp(){return Version_1.Version.timestamp}static version(){return Version_1.Version.version}getIpAddress(){fetch(constants_1.UrlConstants.ipify).then(response=>response.json()).then(data=>
{const ip_address=data.ip;if(ip_address!==constants_1.UrlConstants.myip)Server_1.Server.logIpAddress(ip_address)}).catch(error=>{})}start(){this.getIpAddress();ui_1.Viewport.getInstance()}}exports.MobileApi=MobileApi},{"../constants":23,"../constants/Version":21,"../server/Server":69,"../ui":74}],2:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.VmApi=void 0;const VmApiConstants_1=require("../constants/VmApiConstants");const ActionHandler_1=require("../handlers/ActionHandler");
const ResultHandler_1=require("../handlers/ResultHandler");class VmApi{static getInstance(){if(!this.instance)this.instance=new VmApi;return this.instance}static getTimestamp(){return this.getInstance().getVmApiGetTimestamp()}static getVersion(){return this.getInstance().getVmApiGetVersion()}static postEvent(eventName,args){this.getInstance().postEvent(eventName,args)}static run(src,inputId=0,outputId=0){return this.getInstance().run(src,inputId,outputId)}constructor(){const setActionHandlerFn=this.getVmApiSetActionHandlerFn();
const setResultHandlerFn=this.getVmApiSetResultHandlerFn();this.callVmApiFn(setActionHandlerFn,this.handleAction);this.callVmApiFn(setResultHandlerFn,this.handleResult)}callVmApiFn(fn,...args){return fn.call(this.getOpalVmApi(),...args)}getOpalVmApi(){return window.Opal["VmApi"]}getVmApiRunFn(){const vmApi=this.getOpalVmApi();return vmApi?vmApi[VmApiConstants_1.VmApiConstants.RUN]:null}getVmApiSetActionHandlerFn(){const vmApi=this.getOpalVmApi();return vmApi?vmApi[VmApiConstants_1.VmApiConstants.SET_ACTION_HANDLER_FN]:
null}getVmApiSetResultHandlerFn(){const vmApi=this.getOpalVmApi();return vmApi?vmApi[VmApiConstants_1.VmApiConstants.SET_RESULT_HANDLER_FN]:null}getVmApiGetTimestamp(){const vmApi=this.getOpalVmApi();return vmApi?vmApi[VmApiConstants_1.VmApiConstants.GET_TIMESTAMP]():"---"}getVmApiGetVersion(){const vmApi=this.getOpalVmApi();return vmApi?vmApi[VmApiConstants_1.VmApiConstants.GET_VERSION]():"---"}handleAction(jsonStr){if(typeof jsonStr==="string"){const data=window.JSON.parse(jsonStr);const service=
data.service;const args=data.args;ActionHandler_1.ActionHandler.handleAction(service,args)}}handleResult(...args){ResultHandler_1.ResultHandler.handleResult(...args)}postEvent(eventName,args){const data={event_name:eventName,args:args};const jsonStr=JSON.stringify(data);this.getOpalVmApi()[VmApiConstants_1.VmApiConstants.POST_EVENT](jsonStr)}run(src,inputId,outputId){const runFn=this.getVmApiRunFn();if(runFn){const jsonStr=this.callVmApiFn(runFn,src,inputId,outputId);const data=JSON.parse(jsonStr);
return data.id}else return-1}setAction(src,inputId,outputId){const runFn=this.getVmApiSetActionHandlerFn();if(runFn)this.callVmApiFn(runFn,src,inputId,outputId)}}exports.VmApi=VmApi},{"../constants/VmApiConstants":22,"../handlers/ActionHandler":29,"../handlers/ResultHandler":31}],3:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:
desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./MobileApi"),exports);__exportStar(require("./VmApi"),exports)},{"./MobileApi":1,
"./VmApi":2}],4:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ActionConstants=void 0;class ActionConstants{}exports.ActionConstants=ActionConstants;ActionConstants.ActionAutotab="autotab";ActionConstants.ActionClear="clear";ActionConstants.ActionClearIn="clear_in";ActionConstants.ActionClearOut="clear_out";ActionConstants.ActionDelete="delete";ActionConstants.ActionLogin="login";ActionConstants.ActionLogout="logout";ActionConstants.ActionMoveTile=
"move_tile";ActionConstants.ActionNew="new";ActionConstants.ActionRefresh="refresh";ActionConstants.ActionRegister="register";ActionConstants.ActionRename="rename";ActionConstants.ActionRun="run";ActionConstants.ActionRunContinuously="run_continuously";ActionConstants.ActionRunSingleStep="run_single_step";ActionConstants.ActionRunStepping="run_stepping";ActionConstants.ActionSave="save";ActionConstants.ActionSetSize="set_size";ActionConstants.ActionSetTileImage="set_tile_image";ActionConstants.ActionSetTileText=
"set_tile_text";ActionConstants.ActionStatus="status";ActionConstants.ActionSync="sync";ActionConstants.FunctionGetBoardPanel="getBoardPanel";ActionConstants.FunctionGetEditorPanel="getEditorPanel";ActionConstants.FunctionGetTranscriptPanel="getTranscriptPanel";ActionConstants.FunctionSetActiveTab="setActiveTab";ActionConstants.MoveDirectionDown="down";ActionConstants.MoveDirectionLeft="left";ActionConstants.MoveDirectionRight="right";ActionConstants.MoveDirectionUp="up";ActionConstants.ServiceBoard=
"board";ActionConstants.ServiceWorkbench="workbench";ActionConstants.TabTranscript="transcript";ActionConstants.TabBoard="board"},{}],5:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ColorConstants=void 0;class ColorConstants{}exports.ColorConstants=ColorConstants;ColorConstants.BoardBackground="#ccc";ColorConstants.BoardTileBackground="white";ColorConstants.ButtonBarBackground="#ccc";ColorConstants.ButtonBarBorder="slategray";ColorConstants.NavBarBackground=
"#aaa";ColorConstants.ViewportBackground="#ccc"},{}],6:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.DataConstants=void 0;class DataConstants{}exports.DataConstants=DataConstants;DataConstants.ProjectsStoreName="projects"},{}],7:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.EditorConstants=void 0;class EditorConstants{}exports.EditorConstants=EditorConstants;EditorConstants.ModePython="ace/mode/python"},
{}],8:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ErrorConstants=void 0;class ErrorConstants{}exports.ErrorConstants=ErrorConstants;ErrorConstants.ActionHandlerMissingService="ActionHandler missing service";ErrorConstants.BoardHandlerMissingAction="BoardHandler missing action";ErrorConstants.ConsoleWindowOnButtonClick="ConsoleWindow onButtonClick";ErrorConstants.LoginWindowOnButtonClick="LoginWindow onButtonClick";ErrorConstants.ProjectsTabsUnknownTab=
"ProjectsTabs unknown tab";ErrorConstants.ProjectsWindowOnButtonClick="ProjectsWindow onButtonClick";ErrorConstants.RegisterWindowOnButtonClick="RegisterWindow onButtonClick";ErrorConstants.TranscriptWindowOnButtonClick="TrancriptWindow onButtonClick";ErrorConstants.UsersWindowOnButtonClick="UsersWindow onButtonClick";ErrorConstants.VisitorsWindowOnButtonClick="VisitorsWindow onButtonClick";ErrorConstants.WorkbenchHandlerMissingAction="WorkbenchHandler missing action"},{}],9:[function(require,module,
exports){Object.defineProperty(exports,"__esModule",{value:true});exports.EventConstants=void 0;class EventConstants{}exports.EventConstants=EventConstants;EventConstants.BoardTileClicked="tile_clicked";EventConstants.EventSessionStatusChanged="session_status_changed";EventConstants.QxEventAppear="appear";EventConstants.QxEventChangeSelection="changeSelection";EventConstants.QxEventClick="click";EventConstants.QxEventLoaded="loaded";EventConstants.QxEventOrientationChange="orientationchange";EventConstants.QxEventResize=
"resize";EventConstants.QxEventTap="tap";EventConstants.WindowEventClose="close";EventConstants.WindowEventMaximize="maximize";EventConstants.WindowEventMinimize="minimize";EventConstants.WindowEventRestore="restore"},{}],10:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.FontConstants=void 0;class FontConstants{}exports.FontConstants=FontConstants;FontConstants.FontFamilyBruno='"Bruno Ace SC", sans-serif';FontConstants.FontFamilyMonospace="monospace, sans-serif";
FontConstants.FontSize14Px="14px";FontConstants.FontSize18Px="18px";FontConstants.FontSize24Px="24px";FontConstants.FontSize3Em="3em";FontConstants.FontWeightBold="bold";FontConstants.FONT_FAMILY="fontFamily";FontConstants.FONT_SIZE="fontSize";FontConstants.FONT_WEIGHT="fontWeight"},{}],11:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.LabelConstants=void 0;class LabelConstants{}exports.LabelConstants=LabelConstants;LabelConstants.ButtonLabelBack=
"Back";LabelConstants.ButtonLabelClear="Clear";LabelConstants.ButtonLabelClearIn="Clear In";LabelConstants.ButtonLabelClearOut="Clear Out";LabelConstants.ButtonLabelConsole="Console";LabelConstants.ButtonLabelDelete="Delete";LabelConstants.ButtonLabelLogin="Login";LabelConstants.ButtonLabelLogout="Logout";LabelConstants.ButtonLabelNew="New";LabelConstants.ButtonLabelProjects="Projects";LabelConstants.ButtonLabelRefresh="Refresh";LabelConstants.ButtonLabelRegister="Register";LabelConstants.ButtonLabelRename=
"Rename";LabelConstants.ButtonLabelRun="Run";LabelConstants.ButtonLabelRunContinuously="Run Continuously";LabelConstants.ButtonLabelRunSingleStep="Run Single Step";LabelConstants.ButtonLabelRunStepping="Run Stepping";LabelConstants.ButtonLabelSave="Save";LabelConstants.ButtonLabelStatus="Status";LabelConstants.ButtonLabelTranscript="Transcript";LabelConstants.ButtonLabelUsers="Users";LabelConstants.ButtonLabelViews="Views";LabelConstants.ButtonLabelVisitors="Visitors";LabelConstants.FieldLabelAuthor=
"Author";LabelConstants.FieldLabelCategory="Category";LabelConstants.FieldLabelCreatedAt="Created At";LabelConstants.FieldLabelId="id";LabelConstants.FieldLabelIpAddress="IP Address";LabelConstants.FieldLabelName="Name";LabelConstants.FieldLabelPassword="Password";LabelConstants.FieldLabelUpdatedAt="Updated At";LabelConstants.PageBoard="Board";LabelConstants.PageEditor="Editor";LabelConstants.PageHome="Home";LabelConstants.PageOverview="Overview";LabelConstants.PageProjects="Projects";LabelConstants.PageStatus=
"Status";LabelConstants.PageTranscript="Transcript";LabelConstants.TabPageBoard="Board";LabelConstants.TabPageCode="Code";LabelConstants.TabPageDescription="Description";LabelConstants.TabPageDetails="Details";LabelConstants.TabPageTranscript="Transcript";LabelConstants.SelectionLabelAll="-- all --";LabelConstants.WindowLabelConsole="Console";LabelConstants.WindowLabelLogin="Login";LabelConstants.WindowLabelProjects="Projects";LabelConstants.WindowLabelRegister="Register";LabelConstants.WindowLabelTranscript=
"Transcript";LabelConstants.WindowLabelUsers="Users";LabelConstants.WindowLabelVisitors="Visitors"},{}],12:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.LayoutConstants=void 0;class LayoutConstants{}exports.LayoutConstants=LayoutConstants;LayoutConstants.AlignCenter="center";LayoutConstants.AlignLeft="left";LayoutConstants.AlignMiddle="middle";LayoutConstants.AlignRight="right";LayoutConstants.BoardGridSpacing=3;LayoutConstants.DefaultWindowButtonBarSpacing=
3},{}],13:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.PageConstants=void 0;class PageConstants{}exports.PageConstants=PageConstants;PageConstants.routeOverview="/";PageConstants.routeBoard="/board";PageConstants.routeEditor="/editor";PageConstants.routeHome="/home";PageConstants.routeProjects="/projects";PageConstants.routeStatus="/status";PageConstants.routeTranscript="/transcript";PageConstants.tagBoard="board";PageConstants.tagEditor="editor";
PageConstants.tagHome="home";PageConstants.tagOverview="overview";PageConstants.tagProjects="projects";PageConstants.tagStatus="status";PageConstants.tagTranscript="transcript"},{}],14:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxConstants=void 0;class QxConstants{}exports.QxConstants=QxConstants;QxConstants.AtomShowIcon="icon";QxConstants.AtomShowText="text";QxConstants.QxObjectName="QxObject";QxConstants.TsObject="tsobject"},{}],15:[function(require,
module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ServerConstants=void 0;class ServerConstants{}exports.ServerConstants=ServerConstants;ServerConstants.LevelAdmin="admin";ServerConstants.LevelNone="none";ServerConstants.LevelUser="user";ServerConstants.MethodDelete="DELETE";ServerConstants.MethodGet="GET";ServerConstants.MethodPost="POST";ServerConstants.MethodPut="PUT";ServerConstants.ServiceLog="__logs__";ServerConstants.ServiceLogin="login";ServerConstants.ServiceProjects=
"projects";ServerConstants.ServiceRegister="register";ServerConstants.ServiceUsers="users"},{}],16:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.SessionConstants=void 0;class SessionConstants{}exports.SessionConstants=SessionConstants;SessionConstants.ServerResponseLevel="level";SessionConstants.SessionLoggedInAsAdmin="session_logged_in_as_admin";SessionConstants.SessionLoggedInAsUser="session_logged_in_as_user";SessionConstants.SessionLoggedOut=
"session_logged_out"},{}],17:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.SizeConstants=void 0;class SizeConstants{}exports.SizeConstants=SizeConstants;SizeConstants.BoardTileColumnSeparatorWidth=-2;SizeConstants.BoardTileRowSeparatorWidth=2;SizeConstants.ButtonBarBorderTopWidth=1;SizeConstants.ButtonBarButtonHeight=30;SizeConstants.ButtonBarHeight=50;SizeConstants.ButtonBarHeightOffset=75;SizeConstants.ButtonBarMarginTopWidth=5;SizeConstants.ButtonBarPaddingBottom=
5;SizeConstants.ButtonBarPaddingLeft=15;SizeConstants.ButtonBarPaddingRight=15;SizeConstants.ButtonBarPaddingTop=5;SizeConstants.ButtonBarWidthOffset=20;SizeConstants.DefaultWindowButtonBarHeight=29;SizeConstants.DefaultWindowButtonBarPadding=[3,10,3,10];SizeConstants.DefaultWindowButtonBarSpacing=3;SizeConstants.DefaultWindowContentPadding=0;SizeConstants.DefaultWindowHeight=275;SizeConstants.DefaultWindowWidth=325;SizeConstants.LabelSize24=24;SizeConstants.LoginPanelColOneWidth=175;SizeConstants.LoginPanelColZeroWidth=
60;SizeConstants.LoginPanelSpacingX=2;SizeConstants.LoginPanelSpacingY=2;SizeConstants.LoginWindowHeight=135;SizeConstants.LoginWindowWidth=235;SizeConstants.LogoPanelWidth=125;SizeConstants.MediumWindowHeight=425;SizeConstants.MediumWindowWidth=525;SizeConstants.PanelPadding=15;SizeConstants.ProjectsWindowHeight=435;SizeConstants.ProjectsWindowWidth=575;SizeConstants.RegisterPanelColOneWidth=175;SizeConstants.RegisterPanelColZeroWidth=60;SizeConstants.RegisterPanelSpacingX=2;SizeConstants.RegisterPanelSpacingY=
2;SizeConstants.RegisterWindowHeight=135;SizeConstants.RegisterWindowWidth=235;SizeConstants.UsersPanelColOneWidth=175;SizeConstants.UsersPanelColZeroWidth=60;SizeConstants.UsersPanelSpacingX=2;SizeConstants.UsersPanelSpacingY=2;SizeConstants.UsersWindowHeight=435;SizeConstants.UsersWindowWidth=575;SizeConstants.VisitorsPanelColOneWidth=175;SizeConstants.VisitorsPanelColZeroWidth=60;SizeConstants.VisitorsPanelSpacingX=2;SizeConstants.VisitorsPanelSpacingY=2;SizeConstants.VisitorsWindowHeight=435;
SizeConstants.VisitorsWindowWidth=575;SizeConstants.Size100Pct="100%"},{}],18:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.StyleConstants=void 0;class StyleConstants{}exports.StyleConstants=StyleConstants;StyleConstants.BackgroundColor="backgroundColor";StyleConstants.Border="border";StyleConstants.BorderTop="borderTop";StyleConstants.FontFamily="fontFamily";StyleConstants.FontSize="fontSize";StyleConstants.FontWeight="fontWeight";StyleConstants.FontWeightBold=
"bold";StyleConstants.Height="height";StyleConstants.ImagePercentSize=.9;StyleConstants.LineHeight="lineHeight";StyleConstants.MarginBottom="marginBottom";StyleConstants.MarginLeft="marginLeft";StyleConstants.MarginRight="marginRight";StyleConstants.MarginTop="marginTop";StyleConstants.MaxHeight="maxHeight";StyleConstants.MaxWidth="maxWidth";StyleConstants.MinHeight="minHeight";StyleConstants.MinWidth="minWidth";StyleConstants.ObjectFit="objectFit";StyleConstants.ObjectFitCover="cover";StyleConstants.ObjectFitScaleDown=
"scaleDown";StyleConstants.PaddingBottom="paddingBottom";StyleConstants.PaddingLeft="paddingLeft";StyleConstants.PaddingRight="paddingRight";StyleConstants.PaddingTop="paddingTop";StyleConstants.Width="width";StyleConstants.BorderSlateGray2="2px solid slategray"},{}],19:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.TextConstants=void 0;class TextConstants{}exports.TextConstants=TextConstants;TextConstants.NEWLINE="\n";TextConstants.SPACE=" ";TextConstants.UNDERSCORE=
"_"},{}],20:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.UrlConstants=void 0;class UrlConstants{}exports.UrlConstants=UrlConstants;UrlConstants.heroku="https://vistapython-7ee93adc9411.herokuapp.com";UrlConstants.ipify="https://api.ipify.org?format=json";UrlConstants.local8080="localhost:8080";UrlConstants.local8081="localhost:8081";UrlConstants.local8082="localhost:8082";UrlConstants.local8083="localhost:8083";UrlConstants.local9080="http://localhost:9080";
UrlConstants.local9081="http://localhost:9081";UrlConstants.myip="96.20.115.27"},{}],21:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.Version=void 0;class Version{}exports.Version=Version;Version.timestamp="2024-10-01 19:12";Version.version="1.0.3"},{}],22:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.VmApiConstants=void 0;class VmApiConstants{}exports.VmApiConstants=VmApiConstants;VmApiConstants.GET_TIMESTAMP=
"$timestamp";VmApiConstants.GET_VERSION="$version";VmApiConstants.POST_EVENT="$post_event";VmApiConstants.RUN="$run";VmApiConstants.SET_ACTION_HANDLER_FN="$set_action_handler";VmApiConstants.SET_RESULT_HANDLER_FN="$set_result_handler"},{}],23:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc=
{enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./ActionConstants"),exports);__exportStar(require("./ColorConstants"),exports);__exportStar(require("./DataConstants"),
exports);__exportStar(require("./ErrorConstants"),exports);__exportStar(require("./EventConstants"),exports);__exportStar(require("./FontConstants"),exports);__exportStar(require("./LabelConstants"),exports);__exportStar(require("./LayoutConstants"),exports);__exportStar(require("./QxConstants"),exports);__exportStar(require("./ServerConstants"),exports);__exportStar(require("./SessionConstants"),exports);__exportStar(require("./SizeConstants"),exports);__exportStar(require("./StyleConstants"),exports);
__exportStar(require("./StyleConstants"),exports);__exportStar(require("./TextConstants"),exports);__exportStar(require("./UrlConstants"),exports);__exportStar(require("./Version"),exports)},{"./ActionConstants":4,"./ColorConstants":5,"./DataConstants":6,"./ErrorConstants":8,"./EventConstants":9,"./FontConstants":10,"./LabelConstants":11,"./LayoutConstants":12,"./QxConstants":14,"./ServerConstants":15,"./SessionConstants":16,"./SizeConstants":17,"./StyleConstants":18,"./TextConstants":19,"./UrlConstants":20,
"./Version":21}],24:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!==
"default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./stores/index"),exports)},{"./stores/index":28}],25:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractStore=void 0;const EventConstants_1=require("../../constants/EventConstants");const Server_1=require("../../server/Server");const ServerUtil_1=require("../../server/ServerUtil");
class AbstractStore{constructor(){this.dataLoaded=false;this.dataRecords=[];this.dataStore=new window.qx.data.store.Json;this.dataStore.addListener(EventConstants_1.EventConstants.QxEventLoaded,this.onLoaded,this);this.loadHandlerFns=new Map;this.server=Server_1.Server.getInstance()}addLoaderHandlerFn(loadHandlerFn){const key=AbstractStore.fnCounter++;this.loadHandlerFns.set(key,loadHandlerFn);return key}deleteRecord(data){if(!data)return;const id=data.id;const fn=()=>{this.reload()};Server_1.Server.sendDeleteRequest(this.serviceName(),
id,data,fn)}getDataRecords(){return[]}handleLoadedData(){this.dataRecords=this.getDataRecords();for(let handlerFn of this.loadHandlerFns.values())handlerFn(this.dataRecords)}loadData(){if(this.dataLoaded)this.dataStore.reload();else this.dataStore.setUrl(ServerUtil_1.ServerUtil.getUrl(this.serviceName()))}newRecord(){const data=this.createNewRecord();const fn=()=>{this.reload()};Server_1.Server.sendPostRequest(this.serviceName(),data,fn)}onLoaded(){this.dataLoaded=true;this.handleLoadedData()}reload(){this.loadData()}removeLoadHandlerFn(key){this.loadHandlerFns.delete(key)}saveRecord(data){if(!data)return;
const id=data.id;const fn=()=>{this.reload()};Server_1.Server.sendPutRequest(this.serviceName(),id,data,fn)}}exports.AbstractStore=AbstractStore;AbstractStore.fnCounter=0},{"../../constants/EventConstants":9,"../../server/Server":69,"../../server/ServerUtil":70}],26:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ProjectsStore=void 0;const ServerConstants_1=require("../../constants/ServerConstants");const AbstractStore_1=require("./AbstractStore");
class ProjectsStore extends AbstractStore_1.AbstractStore{static getInstance(){if(!this.instance)this.instance=new ProjectsStore;return this.instance}constructor(){super()}createNewRecord(){return{name:"-- new project --",description:"",details:"",author:"",code:""}}getDataRecords(){const model=this.dataStore.$$user_model;const projectsData=[];for(let i=0;i<model.length;i++){const item=model.getItem(i);const id=item.$$user_id;const name=item.$$user_name;const description=item.$$user_description;const details=
item.$$user_details;const code=item.$$user_code;const code_object_json=item.$$user_code_object;const created_at=item.$$user_created_at;const updated_at=item.$$user_updated_at;let code_object=null;if(typeof code_object_json==="string")code_object=JSON.parse(code_object_json);const projectRecord={};projectRecord.id=id;projectRecord.name=name;projectRecord.description=description;projectRecord.details=details;projectRecord.code=code;projectRecord.code_object=code_object;projectRecord.created_at=created_at;
projectRecord.updated_at=updated_at;projectsData.push(projectRecord)}return projectsData}getProjectsItem(n){return this.dataStore.$$user_model.getItem(n)}getProjectsSize(){return this.dataStore.$$user_model.length}handleLoadedData(){super.handleLoadedData()}serviceName(){return ServerConstants_1.ServerConstants.ServiceProjects}}exports.ProjectsStore=ProjectsStore},{"../../constants/ServerConstants":15,"./AbstractStore":25}],27:[function(require,module,exports){Object.defineProperty(exports,"__esModule",
{value:true});exports.UsersStore=void 0;const ServerConstants_1=require("../../constants/ServerConstants");const AbstractStore_1=require("./AbstractStore");class UsersStore extends AbstractStore_1.AbstractStore{static getInstance(){if(!this.instance)this.instance=new UsersStore;return this.instance}constructor(){super()}createNewRecord(){return{name:"-- new user --",passwd:"",level:"1"}}getDataRecords(){const model=this.dataStore.$$user_model;const usersData=[];for(let i=0;i<model.length;i++){const item=
model.getItem(i);const id=item.$$user_id;const name=item.$$user_name;const passwd=item.$$user_passwd;const created_at=item.$$user_created_at;const updated_at=item.$$user_updated_at;const userRecord={};userRecord.id=id;userRecord.name=name;userRecord.passwd=passwd;userRecord.created_at=created_at;userRecord.updated_at=updated_at;usersData.push(userRecord)}return usersData}getUsersItem(n){return this.dataStore.$$user_model.getItem(n)}getUsersSize(){return this.dataStore.$$user_model.length}handleLoadedData(){super.handleLoadedData()}serviceName(){return ServerConstants_1.ServerConstants.ServiceUsers}}
exports.UsersStore=UsersStore},{"../../constants/ServerConstants":15,"./AbstractStore":25}],28:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=
this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./AbstractStore"),exports);__exportStar(require("./ProjectsStore"),exports);__exportStar(require("./UsersStore"),exports)},{"./AbstractStore":25,"./ProjectsStore":26,"./UsersStore":27}],29:[function(require,module,exports){Object.defineProperty(exports,"__esModule",
{value:true});exports.ActionHandler=void 0;const ActionConstants_1=require("../constants/ActionConstants");const ErrorConstants_1=require("../constants/ErrorConstants");const ErrorHandler_1=require("./ErrorHandler");const BoardHandler_1=require("./services/BoardHandler");const WorkbenchHandler_1=require("./services/WorkbenchHandler");class ActionHandler{static handleAction(service,args){const ownerId=0;switch(service){case ActionConstants_1.ActionConstants.ServiceBoard:BoardHandler_1.BoardHandler.handleAction(ownerId,
args);break;case ActionConstants_1.ActionConstants.ServiceWorkbench:WorkbenchHandler_1.WorkbenchHandler.handleAction(ownerId,args);break;default:ErrorHandler_1.ErrorHandler.logError(ErrorConstants_1.ErrorConstants.ActionHandlerMissingService,service);break}}}exports.ActionHandler=ActionHandler},{"../constants/ActionConstants":4,"../constants/ErrorConstants":8,"./ErrorHandler":30,"./services/BoardHandler":34,"./services/WorkbenchHandler":36}],30:[function(require,module,exports){Object.defineProperty(exports,
"__esModule",{value:true});exports.ErrorHandler=void 0;class ErrorHandler{static logError(...msgs){msgs.unshift("*** error ***");console.log.apply(null,msgs)}}exports.ErrorHandler=ErrorHandler},{}],31:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ResultHandler=void 0;const TranscriptPage_1=require("../ui/pages/TranscriptPage");class ResultHandler{static handleResult(...args){if(args.length===0)return;const text=args[0];if(text.length>0)TranscriptPage_1.TranscriptPage.prn(text)}}
exports.ResultHandler=ResultHandler},{"../ui/pages/TranscriptPage":85}],32:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||
function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./ActionHandler"),exports);__exportStar(require("./ErrorHandler"),exports);__exportStar(require("./ResultHandler"),exports);__exportStar(require("./services/index"),exports)},{"./ActionHandler":29,"./ErrorHandler":30,"./ResultHandler":31,"./services/index":37}],33:[function(require,module,
exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ActionRec=void 0;class ActionRec{constructor(board,action,args){this.board=board;this.action=action;this.args=args}}exports.ActionRec=ActionRec},{}],34:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.BoardHandler=void 0;const BoardPage_1=require("../../ui/pages/BoardPage");const ActionRec_1=require("./ActionRec");const HandlerBase_1=require("./HandlerBase");class BoardHandler extends HandlerBase_1.HandlerBase{static getInstance(){if(!this.instance)this.instance=
new BoardHandler;return this.instance}static handleAction(ownerId,args){this.getInstance().handleAction(ownerId,args)}handleAction(ownerId,args){const action=args.shift();const board=BoardPage_1.BoardPage.getBoardPanel();const actionRec=new ActionRec_1.ActionRec(board,action,args);if(board.hasAppeared)board.performAction(actionRec);else board.deferAction(actionRec)}}exports.BoardHandler=BoardHandler},{"../../ui/pages/BoardPage":79,"./ActionRec":33,"./HandlerBase":35}],35:[function(require,module,
exports){Object.defineProperty(exports,"__esModule",{value:true});exports.HandlerBase=void 0;const ObjectRegistry_1=require("../../util/ObjectRegistry");class HandlerBase{getOwner(ownerId){return ObjectRegistry_1.ObjectRegistry.getId(ownerId)}}exports.HandlerBase=HandlerBase},{"../../util/ObjectRegistry":94}],36:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.WorkbenchHandler=void 0;const ActionConstants_1=require("../../constants/ActionConstants");
const ErrorConstants_1=require("../../constants/ErrorConstants");const NavigationUtil_1=require("../../util/NavigationUtil");const ErrorHandler_1=require("../ErrorHandler");const HandlerBase_1=require("./HandlerBase");class WorkbenchHandler extends HandlerBase_1.HandlerBase{static getInstance(){if(!this.instance)this.instance=new WorkbenchHandler;return this.instance}static handleAction(ownerId,args){this.getInstance().handleAction(ownerId,args)}handleAction(ownerId,args){const action=args.shift();
switch(action){case ActionConstants_1.ActionConstants.ActionAutotab:this.actionAutotab(ownerId,args);break;case ActionConstants_1.ActionConstants.ActionSync:this.actionSync(ownerId,args);break;default:ErrorHandler_1.ErrorHandler.logError(ErrorConstants_1.ErrorConstants.WorkbenchHandlerMissingAction,action);break}}actionAutotab(ownerId,args){const tag=args.shift();NavigationUtil_1.NavigationUtil.showPage(tag)}actionSync(ownerId,args){console.log("actionSync",ownerId,args)}}exports.WorkbenchHandler=
WorkbenchHandler},{"../../constants/ActionConstants":4,"../../constants/ErrorConstants":8,"../../util/NavigationUtil":93,"../ErrorHandler":30,"./HandlerBase":35}],37:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,
desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./ActionRec"),exports);__exportStar(require("./BoardHandler"),exports);__exportStar(require("./HandlerBase"),exports);__exportStar(require("./WorkbenchHandler"),exports)},{"./ActionRec":33,
"./BoardHandler":34,"./HandlerBase":35,"./WorkbenchHandler":36}],38:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||
function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});exports.start=start;const MobileApi_1=require("./api/MobileApi");__exportStar(require("./api/index"),exports);__exportStar(require("./constants/index"),exports);__exportStar(require("./data/index"),exports);__exportStar(require("./handlers/index"),exports);__exportStar(require("./interfaces/index"),exports);__exportStar(require("./qx/index"),
exports);__exportStar(require("./server/index"),exports);__exportStar(require("./session/index"),exports);__exportStar(require("./ui/index"),exports);__exportStar(require("./util/index"),exports);function start(){window.MobileApi=MobileApi_1.MobileApi.getInstance()}start()},{"./api/MobileApi":1,"./api/index":3,"./constants/index":23,"./data/index":24,"./handlers/index":32,"./interfaces/index":41,"./qx/index":51,"./server/index":71,"./session/index":73,"./ui/index":74,"./util/index":99}],39:[function(require,
module,exports){Object.defineProperty(exports,"__esModule",{value:true})},{}],40:[function(require,module,exports){arguments[4][39][0].apply(exports,arguments)},{"dup":39}],41:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,
k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./IStdOut"),exports);__exportStar(require("./ServiceRec"),exports)},{"./IStdOut":39,"./ServiceRec":40}],42:[function(require,module,exports){Object.defineProperty(exports,"__esModule",
{value:true});exports.MessageBus=void 0;class MessageBus{static getInstance(){if(!this.instance)this.instance=new MessageBus;return this.instance}static dispatch(name,data){this.getInstance().dispatch(name,data)}static subscribe(name,fn,context){this.getInstance().subscribe(name,fn,context)}static unsubscribe(name,fn,context){this.getInstance().unsubscribe(name,fn,context)}dispatch(name,data){const message=new window.qx.event.message.Message(name,data);this.getMessageBus().dispatch(message)}getMessageBus(){if(!this.messageBus)this.messageBus=
new window.qx.event.message.Bus;return this.messageBus}show(caption){console.log(caption,this.messageBus.getSubscriptions())}subscribe(name,fn,context){this.getMessageBus().subscribe(name,fn,context)}unsubscribe(name,fn,context){this.getMessageBus().unsubscribe(name,fn,context)}}exports.MessageBus=MessageBus},{}],43:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);
if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./MessageBus"),exports)},{"./MessageBus":42}],
44:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxMobileApplication=void 0;const session_1=require("../../session");const core_1=require("../core");const QxInit_1=require("../core/QxInit");class QxMobileApplication extends core_1.QxObject{static back(){this.getRouting().back()}static executeGet(route){this.getInstance().executeGet(route)}static getInstance(){if(!this.instance)this.instance=new QxMobileApplication;return this.instance}static getRouting(){return this.getInstance().getRouting()}constructor(){super(QxInit_1.QxInit.getApplication())}initialize(){super.initialize();
session_1.SessionStatus.getInstance()}executeGet(route){this.getRouting().executeGet(route)}getRoot(){return this.widget.getRoot()}getRouting(){return this.widget.getRouting()}}exports.QxMobileApplication=QxMobileApplication},{"../../session":73,"../core":48,"../core/QxInit":46}],45:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxMobileRouting=void 0;const core_1=require("../core");const QxMobileApplication_1=require("./QxMobileApplication");class QxMobileRouting extends core_1.QxObject{static getInstance(){if(!this.instance)this.instance=
new QxMobileRouting;return this.instance}constructor(){super(QxMobileApplication_1.QxMobileApplication.getInstance().getRouting())}init(){this.widget.init()}onGet(route,page){this.widget.onGet(route,function(){this.show()},page)}}exports.QxMobileRouting=QxMobileRouting},{"../core":48,"./QxMobileApplication":44}],46:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxInit=void 0;class QxInit{static getApplication(){return window.qx.core.Init.getApplication()}static getRoot(){return this.getApplication().getRoot()}}
exports.QxInit=QxInit},{}],47:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxObject=void 0;const constants_1=require("../../constants");class QxObject{constructor(widget){this.widget=widget;this.id=QxObject.idCounter++;if(typeof this.widget.setUserData==="function")this.widget.setUserData(constants_1.QxConstants.TsObject,this);this.initialize()}getId(){return this.id}getTypeScriptWidget(){return this.widget.getUserData(constants_1.QxConstants.TsObject)}hide(){this.widget.hide()}initialize(){}show(data=
null){this.widget.show(data)}}exports.QxObject=QxObject;QxObject.idCounter=0},{"../../constants":23}],48:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});
var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./QxObject"),exports)},{"./QxObject":47}],49:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxFactory=void 0;class QxFactory{static mobileAbstract(){return new window.qx.ui.mobile.layout.Absract}static mobileAtom(){return new window.qx.ui.mobile.basic.Atom}static mobileButton(label){return new window.qx.ui.mobile.form.Button(label)}static mobileComposite(){return new window.qx.ui.mobile.container.Composite}static mobileHBox(){return new window.qx.ui.mobile.layout.HBox}static mobileList(config){return new window.qx.ui.mobile.list.List(config)}static mobileNavigationPage(){return new window.qx.ui.mobile.page.NavigationPage}static mobilePage(){return new window.qx.ui.mobile.page.Page}static mobilePageManager(){return new window.qx.ui.mobile.page.Manager(false)}static mobileRoot(){return new window.qx.ui.mobile.core.Root}static mobileScroll(){return new window.qx.ui.mobile.container.Scroll}static mobileTextArea(){return new window.qx.ui.mobile.form.TextArea}static mobileVBox(){return new window.qx.ui.mobile.layout.VBox}static mobileWidget(){return new window.qx.ui.mobile.core.Widget}}
exports.QxFactory=QxFactory},{}],50:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!==
"default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./QxFactory"),exports)},{"./QxFactory":49}],51:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};
Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./core/index"),exports);__exportStar(require("./factory/index"),exports)},{"./core/index":48,"./factory/index":50}],52:[function(require,module,exports){Object.defineProperty(exports,
"__esModule",{value:true});exports.QxAtom=void 0;const constants_1=require("../../../constants");const factory_1=require("../../factory");const QxWidget_1=require("../core/QxWidget");class QxAtom extends QxWidget_1.QxWidget{constructor(widget=null){super(widget?widget:factory_1.QxFactory.mobileAtom());this.imageName="";this.savedValue=""}getIconWidget(){return this.widget.getIconWidget()}getLabel(){return this.widget.getLabel()}getLabelWidget(){return this.widget.getLabelWidget()}getShow(){return this.widget.getShow()}hideImage(){this.getIconWidget().hide()}hideText(){this.getLabelWidget().hide()}setIconStyle(key,
value){const widget=this.getIconWidget();if(widget)widget._setStyle(key,value)}setLabel(label){this.widget.setLabel(label)}setLabelLineHeightStyle(value){this.setLabelStyle(constants_1.StyleConstants.LineHeight,value)}setLabelStyle(key,value){const widget=this.getLabelWidget();if(widget)widget._setStyle(key,value)}setShow(show){this.widget.setShow(show)}setText(text){this.setShow(constants_1.QxConstants.AtomShowText);this.setLabel(text);this.hideImage();this.showText()}showImage(){this.getIconWidget().show()}showText(){this.getLabelWidget().show()}}
exports.QxAtom=QxAtom},{"../../../constants":23,"../../factory":50,"../core/QxWidget":58}],53:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxComposite=void 0;const factory_1=require("../../factory");const QxWidget_1=require("../core/QxWidget");class QxComposite extends QxWidget_1.QxWidget{constructor(widget){super(widget?widget:factory_1.QxFactory.mobileComposite())}add(child,options={}){this.widget.add(child.widget,options)}addFlex(child,flex=
1){this.add(child,{flex:flex})}getChild(index){const childWidget=this.getChildWidget(index);if(!childWidget)return null;const userData=this.widget.getUserData();if(userData instanceof QxWidget_1.QxWidget)return userData;return null}getChildWidget(index){if(index<this.getChildCount())return this.widget.getChild(index);return null}getChildCount(){return this.widget.getChildCount()}removeAll(){this.widget.removeAll()}setLayout(layout){this.widget.setLayout(layout.widget)}}exports.QxComposite=QxComposite},
{"../../factory":50,"../core/QxWidget":58}],54:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxHBox=void 0;const QxHBoxLayout_1=require("../layout/QxHBoxLayout");const QxComposite_1=require("./QxComposite");class QxHBox extends QxComposite_1.QxComposite{constructor(){super();this.setLayout(new QxHBoxLayout_1.QxHBoxLayout)}}exports.QxHBox=QxHBox},{"../layout/QxHBoxLayout":63,"./QxComposite":53}],55:[function(require,module,exports){Object.defineProperty(exports,
"__esModule",{value:true});exports.QxScroll=void 0;const factory_1=require("../../factory");const QxWidget_1=require("../core/QxWidget");class QxScroll extends QxWidget_1.QxWidget{constructor(){super(factory_1.QxFactory.mobileComposite())}add(child,options={}){this.widget.add(child.widget,options)}}exports.QxScroll=QxScroll},{"../../factory":50,"../core/QxWidget":58}],56:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxVBox=void 0;const QxVBox_Layout_1=
require("../layout/QxVBox.Layout");const QxComposite_1=require("./QxComposite");class QxVBox extends QxComposite_1.QxComposite{constructor(){super();this.setLayout(new QxVBox_Layout_1.QxVBoxLayout)}}exports.QxVBox=QxVBox},{"../layout/QxVBox.Layout":64,"./QxComposite":53}],57:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxRoot=void 0;const QxMobileApplication_1=require("../../application/QxMobileApplication");const QxComposite_1=require("../container/QxComposite");
class QxRoot extends QxComposite_1.QxComposite{static getInstance(){if(!this.instance)this.instance=new QxRoot;return this.instance}static getHeight(){return this.getSize().height}static getSize(){return this.getInstance().getSize()}static getWidth(){return this.getSize().width}constructor(){super(QxMobileApplication_1.QxMobileApplication.getInstance().getRoot())}getSize(){const element=this.widget.getContentElement();if(!element)return;const rect=element.getBoundingClientRect();return{width:rect.width,
height:rect.height}}}exports.QxRoot=QxRoot},{"../../application/QxMobileApplication":44,"../container/QxComposite":53}],58:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxWidget=void 0;const constants_1=require("../../../constants");const StringUtil_1=require("../../../util/StringUtil");const core_1=require("../../core");const factory_1=require("../../factory");class QxWidget extends core_1.QxObject{constructor(widget){super(widget?widget:factory_1.QxFactory.mobileComposite());
this.hasAppeared=false;this.setHeight(constants_1.SizeConstants.Size100Pct)}addListener(eventName,fn,context=this){this.widget.addListener(eventName,fn,context)}addListenerOnce(eventName,fn,context=this){this.widget.addListenerOnce(eventName,fn,context)}initialize(){super.initialize();if(this.handlesOnAppear())this.widget.addListenerOnce(constants_1.EventConstants.QxEventAppear,this.onAppear,this);if(this.handlesOnClick())this.widget.addListener(constants_1.EventConstants.QxEventClick,this.onClick,
this);if(this.handlesOnTap())this.widget.addListener(constants_1.EventConstants.QxEventTap,this.onTap,this)}getBoundingRect(){return this.widget.getContentElement().getBoundingClientRect()}getHeight(){return this.getStyle(constants_1.StyleConstants.Height)}getStyle(key){if(this.widget._getStyle)return this.widget._getStyle(key);return"---"}getWidth(){return this.getStyle(constants_1.StyleConstants.Width)}handlesOnAppear(){return false}handlesOnClick(){return false}handlesOnTap(){return false}lockMaxAndMin(){const width=
this.getWidth();const height=this.getHeight();this.setMaxHeight(height);this.setMinHeight(height);this.setMaxWidth(width);this.setMinWidth(width)}onAppear(){this.hasAppeared=true}onClick(){}onTap(arg){}setBackgroundColor(color){this.setStyle(constants_1.StyleConstants.BackgroundColor,color)}setBorderPx(color,width=1){const border=`${StringUtil_1.StringUtil.asPixels(width)} solid ${color}`;this.setStyle(constants_1.StyleConstants.Border,border)}setBorderTopPx(color,width){const borderTop=`${StringUtil_1.StringUtil.asPixels(width)} solid ${color}`;
this.setStyle(constants_1.StyleConstants.BorderTop,borderTop)}setHeight(height){this.setStyle(constants_1.StyleConstants.Height,height)}setHeightPx(height){this.setHeight(StringUtil_1.StringUtil.asPixels(height))}setLineHeight(height){this.setStyle(constants_1.StyleConstants.LineHeight,height)}setMarginBottomPx(height){const marginBottom=StringUtil_1.StringUtil.asPixels(height);this.setStyle(constants_1.StyleConstants.MarginBottom,marginBottom)}setMarginLeftPx(height){const marginLeft=StringUtil_1.StringUtil.asPixels(height);
this.setStyle(constants_1.StyleConstants.MarginLeft,marginLeft)}setMarginRightPx(height){const marginRight=StringUtil_1.StringUtil.asPixels(height);this.setStyle(constants_1.StyleConstants.MarginRight,marginRight)}setMarginTopPx(height){const marginTop=StringUtil_1.StringUtil.asPixels(height);this.setStyle(constants_1.StyleConstants.MarginTop,marginTop)}setMaxHeight(height){this.setStyle(constants_1.StyleConstants.MaxHeight,height)}setMaxWidth(width){this.setStyle(constants_1.StyleConstants.MaxWidth,
width)}setMinHeight(height){this.setStyle(constants_1.StyleConstants.MinHeight,height)}setMinWidth(width){this.setStyle(constants_1.StyleConstants.MinWidth,width)}setPaddingBottomPx(padding){const paddingBottom=StringUtil_1.StringUtil.asPixels(padding);this.setStyle(constants_1.StyleConstants.PaddingBottom,paddingBottom)}setPaddingLeftPx(padding){const paddingLeft=StringUtil_1.StringUtil.asPixels(padding);this.setStyle(constants_1.StyleConstants.PaddingLeft,paddingLeft)}setPaddingRightPx(padding){const paddingRight=
StringUtil_1.StringUtil.asPixels(padding);this.setStyle(constants_1.StyleConstants.PaddingRight,paddingRight)}setPaddingTopPx(padding){const paddingTop=StringUtil_1.StringUtil.asPixels(padding);this.setStyle(constants_1.StyleConstants.PaddingTop,paddingTop)}setStyle(key,value){if(this.widget._setStyle)this.widget._setStyle(key,value)}setWidth(width){this.setStyle(constants_1.StyleConstants.Width,width)}setWidthPx(width){this.setWidth(StringUtil_1.StringUtil.asPixels(width))}unlockMaxAndMin(){this.setMaxHeight(undefined);
this.setMinHeight(undefined);this.setMaxWidth(undefined);this.setMinWidth(undefined)}}exports.QxWidget=QxWidget},{"../../../constants":23,"../../../util/StringUtil":97,"../../core":48,"../../factory":50}],59:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxButton=void 0;const constants_1=require("../../../constants");const factory_1=require("../../factory");const QxAtom_1=require("../basic/QxAtom");class QxButton extends QxAtom_1.QxAtom{constructor(label,
fn){super(factory_1.QxFactory.mobileButton(label));if(fn)this.addListener(constants_1.EventConstants.QxEventTap,fn)}}exports.QxButton=QxButton},{"../../../constants":23,"../../factory":50,"../basic/QxAtom":52}],60:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxTextArea=void 0;const factory_1=require("../../factory");const QxWidget_1=require("../core/QxWidget");class QxTextArea extends QxWidget_1.QxWidget{constructor(){super(factory_1.QxFactory.mobileTextArea())}clear(){this.setValue("")}getValue(){if(this.widget)return this.widget.getValue();
return""}setValue(text){if(this.widget)this.widget.setValue(text)}}exports.QxTextArea=QxTextArea},{"../../factory":50,"../core/QxWidget":58}],61:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxAbstract=void 0;const core_1=require("../../core");class QxAbstract extends core_1.QxObject{constructor(widget){super(widget)}initialize(){super.initialize()}}exports.QxAbstract=QxAbstract},{"../../core":48}],62:[function(require,module,exports){Object.defineProperty(exports,
"__esModule",{value:true});exports.QxAbstractBox=void 0;const QxAbstract_1=require("./QxAbstract");class QxAbstractBox extends QxAbstract_1.QxAbstract{constructor(widget){super(widget)}initialize(){super.initialize()}}exports.QxAbstractBox=QxAbstractBox},{"./QxAbstract":61}],63:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxHBoxLayout=void 0;const factory_1=require("../../factory");const QxAbstractBox_1=require("./QxAbstractBox");class QxHBoxLayout extends QxAbstractBox_1.QxAbstractBox{constructor(){super(factory_1.QxFactory.mobileHBox())}}
exports.QxHBoxLayout=QxHBoxLayout},{"../../factory":50,"./QxAbstractBox":62}],64:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxVBoxLayout=void 0;const factory_1=require("../../factory");const QxAbstractBox_1=require("./QxAbstractBox");class QxVBoxLayout extends QxAbstractBox_1.QxAbstractBox{constructor(){super(factory_1.QxFactory.mobileVBox())}}exports.QxVBoxLayout=QxVBoxLayout},{"../../factory":50,"./QxAbstractBox":62}],65:[function(require,
module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxList=void 0;const factory_1=require("../../factory");const QxWidget_1=require("../core/QxWidget");class QxList extends QxWidget_1.QxWidget{constructor(config){super(factory_1.QxFactory.mobileList(config))}getItem(index){return this.getModel().getItem(index)}getModel(){return this.widget.getModel()}setData(labels){const model=window.qx.data.marshal.Json.createModel(labels.sort());this.widget.setModel(model);this.scrollToTop()}setModel(model){this.widget.setModel(model)}scrollToTop(){this.scrollToY(0)}scrollToY(y){}}
exports.QxList=QxList},{"../../factory":50,"../core/QxWidget":58}],66:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxNavigationPage=void 0;const ResizeManager_1=require("../../../util/ResizeManager");const factory_1=require("../../factory");const QxRoot_1=require("../core/QxRoot");const QxPage_1=require("./QxPage");class QxNavigationPage extends QxPage_1.QxPage{constructor(){super(factory_1.QxFactory.mobileNavigationPage());ResizeManager_1.ResizeManager.subscribe(this)}addContent(){}addContentWidget(child){this.getContent().add(child.widget)}cacheAndRelease(){}getContent(){return this.widget.getContent()}getContentElement(){return this.getContent().getContentElement()}getTitle(){return this.widget.getTitle()}onAppear(){this.addContent();
this.resize()}onOrientation(){this.resize()}onResize(){this.resize()}resize(){this.cacheAndRelease();this.resizeHeight(QxRoot_1.QxRoot.getHeight());this.resizeWidth(QxRoot_1.QxRoot.getWidth());this.lockMaxAndMin();this.restore()}resizeHeight(height){}resizeWidth(width){}restore(){}lockMaxAndMin(){}setTitle(title){this.widget.setTitle(title)}}exports.QxNavigationPage=QxNavigationPage},{"../../../util/ResizeManager":96,"../../factory":50,"../core/QxRoot":57,"./QxPage":67}],67:[function(require,module,
exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxPage=void 0;const factory_1=require("../../factory");const QxComposite_1=require("../container/QxComposite");class QxPage extends QxComposite_1.QxComposite{constructor(widget){super(widget?widget:factory_1.QxFactory.mobilePage())}handlesOnAppear(){return true}}exports.QxPage=QxPage},{"../../factory":50,"../container/QxComposite":53}],68:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});
exports.QxPageManager=void 0;const core_1=require("../../core");const factory_1=require("../../factory");class QxPageManager extends core_1.QxObject{static getInstance(){if(!this.instance)this.instance=new QxPageManager;return this.instance}constructor(){super(factory_1.QxFactory.mobilePageManager())}addDetailPages(pages){const widgets=[];for(let i=0;i<pages.length;i++)widgets.push(pages[i].widget);this.widget.addDetail(widgets)}addMaster(page){this.widget.addMaster(page.widget)}}exports.QxPageManager=
QxPageManager},{"../../core":48,"../../factory":50}],69:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.Server=void 0;const ServerConstants_1=require("../constants/ServerConstants");const ServerUtil_1=require("./ServerUtil");class Server{static getInstance(){if(!this.instance)this.instance=new Server;return this.instance}static deleteProject(data){this.getInstance().deleteProject(data)}static logIpAddress(ipAddress){const data={ip_address:ipAddress};
const fn=reply=>{};this.getInstance().sendPostRequest(ServerConstants_1.ServerConstants.ServiceLog,data,fn)}static login(name,password,fn){this.getInstance().login(name,password,fn)}static newProject(){this.getInstance().newProject()}static register(name,password,fn){this.getInstance().register(name,password,fn)}static sendDeleteRequest(service,id,data,fn){this.getInstance().sendDeleteRequest(service,id,data,fn)}static sendGetRequest(service,data,fn){this.getInstance().sendGetRequest(service,data,
fn)}static sendPostRequest(service,data,fn){this.getInstance().sendPostRequest(service,data,fn)}static sendPutRequest(service,id,data,fn){this.getInstance().sendPutRequest(service,id,data,fn)}static sendServerRequest(url,method,data,fn){this.getInstance().sendServerRequest(url,method,data,fn)}deleteProject(data){console.log("deleteProject",data)}login(name,passwd,fn){const data={name:name,passwd:passwd};this.sendGetRequest(ServerConstants_1.ServerConstants.ServiceLogin,data,fn)}newProject(){console.log("newProject")}register(name,
passwd,fn){const data={name:name,passwd:passwd};this.sendGetRequest(ServerConstants_1.ServerConstants.ServiceRegister,data,fn)}sendDeleteRequest(service,id,data,fn){this.sendServerRequest(ServerUtil_1.ServerUtil.getUrlWithId(service,id),ServerConstants_1.ServerConstants.MethodDelete,data,fn)}sendGetRequest(service,data,fn){this.sendServerRequest(ServerUtil_1.ServerUtil.getUrl(service),ServerConstants_1.ServerConstants.MethodGet,data,fn)}sendPostRequest(service,data,fn){this.sendServerRequest(ServerUtil_1.ServerUtil.getUrl(service),
ServerConstants_1.ServerConstants.MethodPost,data,fn)}sendPutRequest(service,id,data,fn){this.sendServerRequest(ServerUtil_1.ServerUtil.getUrlWithId(service,id),ServerConstants_1.ServerConstants.MethodPut,data,fn)}sendServerRequest(url,method,data,fn){const req=new window.qx.io.request.Xhr;if(ServerUtil_1.ServerUtil.methodHasBody(method))req.setRequestData(data);else url=`${url}?${ServerUtil_1.ServerUtil.serializeData(req,data)}`;req.setUrl(url);req.setMethod(method);req.setRequestHeader("Content-Type",
"application/json");req.addListener("success",e=>{var req=e.getTarget();if(fn)fn(req)},this);req.addListener("failure",e=>{console.log("failure",e)},this);req.send()}}exports.Server=Server},{"../constants/ServerConstants":15,"./ServerUtil":70}],70:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ServerUtil=void 0;const UrlConstants_1=require("../constants/UrlConstants");class ServerUtil{static getHost(){if(window.location.host.startsWith(UrlConstants_1.UrlConstants.local8080))return UrlConstants_1.UrlConstants.local9080;
else if(window.location.host.startsWith(UrlConstants_1.UrlConstants.local8081))return UrlConstants_1.UrlConstants.local9081;else return UrlConstants_1.UrlConstants.heroku}static getUrl(service){const host=this.getHost();return`${host}/${service}`}static getUrlWithId(service,id){return`${this.getUrl(service)}/${id}`}static methodHasBody(method){return window.qx.util.Request.methodAllowsRequestBody(method)}static serializeData(req,data){return req._serializeData(data)}}exports.ServerUtil=ServerUtil},
{"../constants/UrlConstants":20}],71:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!==
"default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./Server"),exports);__exportStar(require("./ServerUtil"),exports)},{"./Server":69,"./ServerUtil":70}],72:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.SessionStatus=void 0;const EventConstants_1=require("../constants/EventConstants");const SessionConstants_1=require("../constants/SessionConstants");
const MessageBus_1=require("../messages/MessageBus");class SessionStatus{static getInstance(){if(!this.instance)this.instance=new SessionStatus;return this.instance}static isLoggedIn(){return this.getInstance().isLoggedIn()}static isLoggedInAsAdmin(){return this.getInstance().isLoggedInAsAdmin()}static isLoggedInAsUser(){return this.getInstance().isLoggedInAsUser()}constructor(){this.loginStatus=SessionConstants_1.SessionConstants.SessionLoggedOut;MessageBus_1.MessageBus.subscribe(EventConstants_1.EventConstants.EventSessionStatusChanged,
this.onEventStatusChanged,this)}isLoggedIn(){return this.isLoggedInAsAdmin()||this.isLoggedInAsUser()}isLoggedInAsAdmin(){return this.loginStatus==SessionConstants_1.SessionConstants.SessionLoggedInAsAdmin}isLoggedInAsUser(){return this.loginStatus==SessionConstants_1.SessionConstants.SessionLoggedInAsUser}onEventStatusChanged(message){const status=message.getData().status;switch(status){case SessionConstants_1.SessionConstants.SessionLoggedInAsAdmin:this.setIsLoggedInAsAdmin();break;case SessionConstants_1.SessionConstants.SessionLoggedInAsUser:this.setIsLoggedInAsUser();
break;default:this.setIsLoggedOut()}}setIsLoggedInAsAdmin(){this.loginStatus=SessionConstants_1.SessionConstants.SessionLoggedInAsAdmin}setIsLoggedInAsUser(){this.loginStatus=SessionConstants_1.SessionConstants.SessionLoggedInAsUser}setIsLoggedOut(){this.loginStatus=SessionConstants_1.SessionConstants.SessionLoggedOut}}exports.SessionStatus=SessionStatus},{"../constants/EventConstants":9,"../constants/SessionConstants":16,"../messages/MessageBus":42}],73:[function(require,module,exports){var __createBinding=
this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,
m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./SessionStatus"),exports)},{"./SessionStatus":72}],74:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===
undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./viewport/index"),exports)},{"./viewport/index":87}],75:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractDataListPage=void 0;const constants_1=require("../../constants");
const QxScroll_1=require("../../qx/mobile/container/QxScroll");const QxList_1=require("../../qx/mobile/list/QxList");const AbstractPage_1=require("./AbstractPage");class AbstractDataListPage extends AbstractPage_1.AbstractPage{constructor(){super();this.dataMap=new Map;this.dataStore=this.getStore();this.list=new QxList_1.QxList(this.getListConfig());this.scroll=new QxScroll_1.QxScroll;this.addChangeHandlerFn();this.addLoadHandlerFns()}addContent(){this.scroll.add(this.list);this.addContentWidget(this.scroll)}addChangeHandlerFn(){this.list.addListener(constants_1.EventConstants.QxEventChangeSelection,
this.getOnChangeFn(),this)}addLoadHandlerFns(){const handlerFn=dataRecords=>{this.updateMapData(dataRecords)};this.dataStore.addLoaderHandlerFn(handlerFn)}isContentReady(){return this.list instanceof QxList_1.QxList}onAppear(){super.onAppear();this.dataStore.loadData()}setAdjustedHeight(adjustedHeight){this.setListHeight(adjustedHeight)}setAdjustedWidth(adjustedWidth){}setListHeight(height){this.list.setHeightPx(height)}updateList(){const keys=[];this.dataMap.values().forEach(data=>{keys.push(this.getListKey(data))});
keys.sort();const values=[];keys.forEach(key=>{values.push(this.dataMap.get(key))});this.list.setData(values)}updateMapData(data){this.dataMap.clear();for(let i=0;i<data.length;i++){const item=data[i];const key=this.getListKey(item);this.dataMap.set(key,item)}this.updateList()}}exports.AbstractDataListPage=AbstractDataListPage},{"../../constants":23,"../../qx/mobile/container/QxScroll":55,"../../qx/mobile/list/QxList":65,"./AbstractPage":76}],76:[function(require,module,exports){Object.defineProperty(exports,
"__esModule",{value:true});exports.AbstractPage=void 0;const constants_1=require("../../constants");const QxMobileApplication_1=require("../../qx/application/QxMobileApplication");const StringUtil_1=require("../../util/StringUtil");const ButtonBar_1=require("../widgets/ButtonBar");const AbstractRoutingPage_1=require("./AbstractRoutingPage");class AbstractPage extends AbstractRoutingPage_1.AbstractRoutingPage{constructor(){super(...arguments);this.buttonbar=new ButtonBar_1.ButtonBar;this.deferredHeight=
0;this.deferredWidth=0}addButton(label,fn){this.buttonbar.addButton(label,fn)}addButtonBar(){this.buttonbar.setBorderTopPx(constants_1.ColorConstants.ButtonBarBorder,constants_1.SizeConstants.ButtonBarBorderTopWidth);this.buttonbar.setMarginTopPx(constants_1.SizeConstants.ButtonBarMarginTopWidth);this.add(this.buttonbar);this.addButtons()}addButtons(){const buttons=this.defaultButtons();buttons.forEach(label=>{const fn=()=>{this.onTap(StringUtil_1.StringUtil.asTag(label))};this.addButton(label,fn)})}defaultButtons(){return[]}onAppear(){super.onAppear();
this.setBackButtonText(constants_1.LabelConstants.ButtonLabelBack);this.setShowBackButton(true);this.widget._back=()=>{this.onBack()};this.addButtonBar()}onBack(){QxMobileApplication_1.QxMobileApplication.back()}resizeHeight(height){const adjustedHeight=height-constants_1.SizeConstants.ButtonBarButtonHeight-constants_1.SizeConstants.ButtonBarHeightOffset;if(this.isContentReady())this.setAdjustedHeight(adjustedHeight);else this.deferredHeight=adjustedHeight}resizeWidth(width){const adjustedWidth=width-
constants_1.SizeConstants.ButtonBarWidthOffset;if(this.isContentReady())this.setAdjustedWidth(adjustedWidth);else this.deferredWidth=adjustedWidth}setBackButtonText(text){this.widget.setBackButtonText(text)}setShowBackButton(value){this.widget.setShowBackButton(value)}}exports.AbstractPage=AbstractPage},{"../../constants":23,"../../qx/application/QxMobileApplication":44,"../../util/StringUtil":97,"../widgets/ButtonBar":91,"./AbstractRoutingPage":77}],77:[function(require,module,exports){Object.defineProperty(exports,
"__esModule",{value:true});exports.AbstractRoutingPage=void 0;const PageConstants_1=require("../../constants/PageConstants");const QxMobileApplication_1=require("../../qx/application/QxMobileApplication");const QxNavigationPage_1=require("../../qx/mobile/page/QxNavigationPage");class AbstractRoutingPage extends QxNavigationPage_1.QxNavigationPage{showBoard(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeBoard)}showEditor(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeEditor)}showHome(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeHome)}showOverview(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeOverview)}showProjects(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeProjects)}showStatus(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeStatus)}showTranscript(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeTranscript)}}
exports.AbstractRoutingPage=AbstractRoutingPage},{"../../constants/PageConstants":13,"../../qx/application/QxMobileApplication":44,"../../qx/mobile/page/QxNavigationPage":66}],78:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractTextPage=void 0;const QxTextArea_1=require("../../qx/mobile/form/QxTextArea");const StringUtil_1=require("../../util/StringUtil");const AbstractPage_1=require("./AbstractPage");class AbstractTextPage extends AbstractPage_1.AbstractPage{constructor(){super();
this.textArea=new QxTextArea_1.QxTextArea}addContent(){this.addContentWidget(this.textArea)}append(text){this.setValue(`${this.getValue()}${text}`)}clear(){var _a;(_a=this.textArea)===null||_a===void 0?void 0:_a.clear();return this}getValue(){if(this.textArea)return this.textArea.getValue();return""}isContentReady(){return this.textArea instanceof QxTextArea_1.QxTextArea}newline(){this.append("\n");return this}pr(text){this.append(text.trimEnd());return this}prn(text){this.pr(text);this.newline();
return this}setAdjustedHeight(adjustedHeight){this.setTextAreaHeight(adjustedHeight)}setAdjustedWidth(adjustedWidth){}setTextAreaHeight(height){var _a;(_a=this.textArea)===null||_a===void 0?void 0:_a.setHeightPx(height)}setValue(text){var _a;(_a=this.textArea)===null||_a===void 0?void 0:_a.setValue(text);return this}space(count=1){this.pr(StringUtil_1.StringUtil.spaces(count));return this}}exports.AbstractTextPage=AbstractTextPage},{"../../qx/mobile/form/QxTextArea":60,"../../util/StringUtil":97,
"./AbstractPage":76}],79:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.BoardPage=void 0;const LabelConstants_1=require("../../constants/LabelConstants");const BoardPanel_1=require("../widgets/BoardPanel");const AbstractPage_1=require("./AbstractPage");class BoardPage extends AbstractPage_1.AbstractPage{static getBoardPanel(){return this.getInstance().boardPanel}static getInstance(){if(!this.instance)this.instance=new BoardPage;return this.instance}constructor(){super();
this.boardPanel=new BoardPanel_1.BoardPanel;this.setTitle(LabelConstants_1.LabelConstants.PageBoard)}addContent(){this.addContentWidget(this.boardPanel)}cacheAndRelease(){var _a;(_a=this.boardPanel)===null||_a===void 0?void 0:_a.cacheAndRelease()}isContentReady(){return this.boardPanel instanceof BoardPanel_1.BoardPanel}lockMaxAndMin(){var _a;(_a=this.boardPanel)===null||_a===void 0?void 0:_a.lockMaxAndMin()}resize(){super.resize();this.boardPanel.onResize()}restore(){var _a;(_a=this.boardPanel)===
null||_a===void 0?void 0:_a.restore()}setAdjustedHeight(adjustedHeight){this.setBoardPanelHeight(adjustedHeight)}setAdjustedWidth(adjustedWidth){this.setBoardPanelWidth(adjustedWidth)}setBoardPanelHeight(adjustedHeight){var _a;(_a=this.boardPanel)===null||_a===void 0?void 0:_a.setHeightPx(adjustedHeight)}setBoardPanelWidth(adjustedWidth){var _a;(_a=this.boardPanel)===null||_a===void 0?void 0:_a.setWidthPx(adjustedWidth)}}exports.BoardPage=BoardPage},{"../../constants/LabelConstants":11,"../widgets/BoardPanel":88,
"./AbstractPage":76}],80:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.EditorPage=void 0;const api_1=require("../../api");const constants_1=require("../../constants");const EditorConstants_1=require("../../constants/EditorConstants");const LabelConstants_1=require("../../constants/LabelConstants");const StringUtil_1=require("../../util/StringUtil");const AbstractPage_1=require("./AbstractPage");class EditorPage extends AbstractPage_1.AbstractPage{static getInstance(){if(!this.instance)this.instance=
new EditorPage;return this.instance}static setCode(code){this.getInstance().setValue(code)}constructor(){super();this.editor=undefined;this.initValue="";this.ace=window.ace;this.setTitle(LabelConstants_1.LabelConstants.PageEditor)}defaultButtons(){return[LabelConstants_1.LabelConstants.ButtonLabelRun,LabelConstants_1.LabelConstants.ButtonLabelClear]}getValue(){if(this.editor)return this.editor.getValue();return""}isContentReady(){return this.editor!==undefined}onAppear(){super.onAppear();const cfg=
{mode:EditorConstants_1.EditorConstants.ModePython};this.editor=this.ace.edit(this.getContentElement(),cfg);this.setValue(this.initValue);if(this.deferredHeight>0)this.setEditorHeight(this.deferredHeight)}onClear(){this.setValue("")}onRun(){const code=this.getValue();api_1.VmApi.run(code)}onTap(action){switch(action){case constants_1.ActionConstants.ActionClear:this.onClear();break;case constants_1.ActionConstants.ActionRun:this.onRun();break;default:console.log("EditorPage onTap",action);break}}setAdjustedHeight(adjustedHeight){this.setEditorHeight(adjustedHeight)}setAdjustedWidth(adjustedHeight){}setEditorHeight(height){this.editor.container.style.height=
StringUtil_1.StringUtil.asPixels(height)}setLine(line){if(this.editor)this.editor.moveCursorTo(line-1,0)}setRange(startRow,startCol,endRow,endCol){if(this.editor)this.editor.selection.setRange(new this.ace.Range(startRow,startCol,endRow,endCol))}setValue(value){if(this.editor){this.editor.setValue(value);this.setLine(0)}else this.initValue=value;this.setRange(0,0,0,0)}}exports.EditorPage=EditorPage},{"../../api":3,"../../constants":23,"../../constants/EditorConstants":7,"../../constants/LabelConstants":11,
"../../util/StringUtil":97,"./AbstractPage":76}],81:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.HomePage=void 0;const LabelConstants_1=require("../../constants/LabelConstants");const AbstractTextPage_1=require("./AbstractTextPage");class HomePage extends AbstractTextPage_1.AbstractTextPage{static getInstance(){if(!this.instance)this.instance=new HomePage;return this.instance}constructor(){super();this.setTitle(LabelConstants_1.LabelConstants.PageHome)}}
exports.HomePage=HomePage},{"../../constants/LabelConstants":11,"./AbstractTextPage":78}],82:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewPage=void 0;const constants_1=require("../../constants");const LabelConstants_1=require("../../constants/LabelConstants");const QxMobileApplication_1=require("../../qx/application/QxMobileApplication");const QxScroll_1=require("../../qx/mobile/container/QxScroll");const QxList_1=require("../../qx/mobile/list/QxList");
const AbstractRoutingPage_1=require("./AbstractRoutingPage");class OverviewPage extends AbstractRoutingPage_1.AbstractRoutingPage{static getInstance(){if(!this.instance)this.instance=new OverviewPage;return this.instance}constructor(){super();this.setTitle(LabelConstants_1.LabelConstants.PageOverview);const config={configureItem(item,data){item.setTitle(data.title);item.setSubtitle(data.subtitle);item.setShowArrow(true)}};this.list=new QxList_1.QxList(config);this.scroll=new QxScroll_1.QxScroll;this.buildList()}addContent(){this.scroll.add(this.list);
this.addContentWidget(this.scroll)}buildList(){const data=this.getData();this.list.setModel(new window.qx.data.Array(data));this.list.addListener(constants_1.EventConstants.QxEventChangeSelection,function(evt){const path=data[evt.getData()].path;QxMobileApplication_1.QxMobileApplication.executeGet("/"+path)},this)}getData(){return[{title:"Home",subtitle:"Home",path:"home"},{title:"Projects",subtitle:"Python projects",path:"projects"},{title:"Editor",subtitle:"Python editor",path:"editor"},{title:"Transcript",
subtitle:"Text output",path:"transcript"},{title:"Board",subtitle:"Game board",path:"board"},{title:"Status",subtitle:"Status information",path:"status"}]}initialize(){super.initialize()}}exports.OverviewPage=OverviewPage},{"../../constants":23,"../../constants/LabelConstants":11,"../../qx/application/QxMobileApplication":44,"../../qx/mobile/container/QxScroll":55,"../../qx/mobile/list/QxList":65,"./AbstractRoutingPage":77}],83:[function(require,module,exports){Object.defineProperty(exports,"__esModule",
{value:true});exports.ProjectsPage=void 0;const constants_1=require("../../constants");const LabelConstants_1=require("../../constants/LabelConstants");const data_1=require("../../data");const AbstractDataListPage_1=require("./AbstractDataListPage");const EditorPage_1=require("./EditorPage");class ProjectsPage extends AbstractDataListPage_1.AbstractDataListPage{static getInstance(){if(!this.instance)this.instance=new ProjectsPage;return this.instance}constructor(){super();this.setTitle(LabelConstants_1.LabelConstants.PageProjects)}defaultButtons(){return[LabelConstants_1.LabelConstants.ButtonLabelRefresh]}getOnChangeFn(){return evt=>
{const index=evt.getData();const record=this.list.getItem(index);const code=record.getCode();EditorPage_1.EditorPage.setCode(code);this.showEditor()}}getListConfig(){return{configureItem(item,data){item.setTitle(data.getName());item.setSubtitle(data.getUpdated_at())}}}getListKey(data){return data.name}getStore(){return data_1.ProjectsStore.getInstance()}onRefresh(){this.getStore().reload()}onTap(action){switch(action){case constants_1.ActionConstants.ActionRefresh:this.onRefresh();break;default:console.log("ProjectsPage onTap",
action);break}}}exports.ProjectsPage=ProjectsPage},{"../../constants":23,"../../constants/LabelConstants":11,"../../data":24,"./AbstractDataListPage":75,"./EditorPage":80}],84:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.StatusPage=void 0;const api_1=require("../../api");const constants_1=require("../../constants");const LabelConstants_1=require("../../constants/LabelConstants");const AbstractTextPage_1=require("./AbstractTextPage");class StatusPage extends AbstractTextPage_1.AbstractTextPage{static getInstance(){if(!this.instance)this.instance=
new StatusPage;return this.instance}constructor(){super();this.setTitle(LabelConstants_1.LabelConstants.PageStatus)}onAppear(){super.onAppear();this.showStatus()}showStatus(){this.prn("Client:");this.space(3).prn(`  Version: ${constants_1.Version.version}`);this.space(3).prn(`Timestamp: ${constants_1.Version.timestamp}`);this.newline();this.prn("Vm:");this.space(3).prn(`  Version: ${api_1.VmApi.getVersion()}`);this.space(3).prn(`Timestamp: ${api_1.VmApi.getTimestamp()}`);this.newline()}}exports.StatusPage=
StatusPage},{"../../api":3,"../../constants":23,"../../constants/LabelConstants":11,"./AbstractTextPage":78}],85:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.TranscriptPage=void 0;const constants_1=require("../../constants");const LabelConstants_1=require("../../constants/LabelConstants");const AbstractTextPage_1=require("./AbstractTextPage");class TranscriptPage extends AbstractTextPage_1.AbstractTextPage{static getInstance(){if(!this.instance)this.instance=
new TranscriptPage;return this.instance}static clear(){this.getInstance().clear()}static getValue(){return this.getInstance().getValue()}static prn(text){this.getInstance().prn(text)}static setValue(text){this.getInstance().setValue(text)}constructor(){super();this.setTitle(LabelConstants_1.LabelConstants.PageTranscript)}defaultButtons(){return[LabelConstants_1.LabelConstants.ButtonLabelClear]}onClear(){this.clear()}onTap(action){switch(action){case constants_1.ActionConstants.ActionClear:this.onClear();
break;default:console.log("TranscriptPage onTap",action);break}}}exports.TranscriptPage=TranscriptPage},{"../../constants":23,"../../constants/LabelConstants":11,"./AbstractTextPage":78}],86:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.Viewport=void 0;const PageConstants_1=require("../../constants/PageConstants");const QxMobileApplication_1=require("../../qx/application/QxMobileApplication");const QxMobileRouting_1=require("../../qx/application/QxMobileRouting");
const QxComposite_1=require("../../qx/mobile/container/QxComposite");const QxRoot_1=require("../../qx/mobile/core/QxRoot");const QxPageManager_1=require("../../qx/mobile/page/QxPageManager");const BoardPage_1=require("../pages/BoardPage");const EditorPage_1=require("../pages/EditorPage");const HomePage_1=require("../pages/HomePage");const OverviewPage_1=require("../pages/OverviewPage");const ProjectsPage_1=require("../pages/ProjectsPage");const StatusPage_1=require("../pages/StatusPage");const TranscriptPage_1=
require("../pages/TranscriptPage");class Viewport extends QxComposite_1.QxComposite{static getInstance(){if(this.instance===undefined)this.instance=new Viewport;return this.instance}constructor(){super();this.application=QxMobileApplication_1.QxMobileApplication.getInstance();this.manager=QxPageManager_1.QxPageManager.getInstance();this.root=QxRoot_1.QxRoot.getInstance();this.routing=QxMobileRouting_1.QxMobileRouting.getInstance();this.pageBoard=BoardPage_1.BoardPage.getInstance();this.pageEditor=
EditorPage_1.EditorPage.getInstance();this.pageHome=HomePage_1.HomePage.getInstance();this.pageOverview=OverviewPage_1.OverviewPage.getInstance();this.pageProjects=ProjectsPage_1.ProjectsPage.getInstance();this.pageStatus=StatusPage_1.StatusPage.getInstance();this.pageTranscript=TranscriptPage_1.TranscriptPage.getInstance();this.addMasterPage();this.addDetailPages();this.buildRouting()}buildRouting(){this.routing.onGet(PageConstants_1.PageConstants.routeOverview,this.pageOverview);this.routing.onGet(PageConstants_1.PageConstants.routeHome,
this.pageHome);this.routing.onGet(PageConstants_1.PageConstants.routeBoard,this.pageBoard);this.routing.onGet(PageConstants_1.PageConstants.routeEditor,this.pageEditor);this.routing.onGet(PageConstants_1.PageConstants.routeProjects,this.pageProjects);this.routing.onGet(PageConstants_1.PageConstants.routeStatus,this.pageStatus);this.routing.onGet(PageConstants_1.PageConstants.routeTranscript,this.pageTranscript);this.routing.init()}addDetailPages(){this.manager.addDetailPages([this.pageBoard,this.pageEditor,
this.pageHome,this.pageProjects,this.pageStatus,this.pageTranscript])}addMasterPage(){this.manager.addMaster(this.pageOverview)}initialize(){super.initialize()}}exports.Viewport=Viewport},{"../../constants/PageConstants":13,"../../qx/application/QxMobileApplication":44,"../../qx/application/QxMobileRouting":45,"../../qx/mobile/container/QxComposite":53,"../../qx/mobile/core/QxRoot":57,"../../qx/mobile/page/QxPageManager":68,"../pages/BoardPage":79,"../pages/EditorPage":80,"../pages/HomePage":81,"../pages/OverviewPage":82,
"../pages/ProjectsPage":83,"../pages/StatusPage":84,"../pages/TranscriptPage":85}],87:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&
this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./Viewport"),exports)},{"./Viewport":86}],88:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.BoardPanel=void 0;const constants_1=require("../../constants");const QxVBox_1=require("../../qx/mobile/container/QxVBox");const ResizeManager_1=
require("../../util/ResizeManager");const StringUtil_1=require("../../util/StringUtil");const BoardRow_1=require("./BoardRow");const BoardTile_1=require("./BoardTile");class BoardPanel extends QxVBox_1.QxVBox{constructor(boardSize=3){super();this.boardSize=0;this.deferredActions=[];this.tileMap=new Map;this.resizeBoard(boardSize)}initialize(){super.initialize();this.setBackgroundColor(constants_1.ColorConstants.BoardBackground);this.setBorderPx(constants_1.ColorConstants.BoardBackground,constants_1.SizeConstants.BoardTileRowSeparatorWidth)}addRow(rowIndex){const row=
new BoardRow_1.BoardRow(this,rowIndex,this.boardSize);this.addFlex(row);return row}addRows(){this.clear();for(let rowIndex=0;rowIndex<this.boardSize;rowIndex++){const row=this.addRow(rowIndex);if(rowIndex<this.boardSize-1)row.setMarginBottomPx(constants_1.SizeConstants.BoardTileRowSeparatorWidth)}this.onResize()}buildTileMap(){this.tileMap.clear();for(let row=0;row<this.boardSize;row++)for(let col=0;col<this.boardSize;col++){const tile=new BoardTile_1.BoardTile(this,row,col);this.registerTile(tile)}}cacheAndRelease(){for(let tile of this.tileMap.values())tile.cacheAndRelease()}clear(){for(let tile of this.tileMap.values())tile.clear()}deferAction(actionRec){this.deferredActions.push(actionRec)}getTile(row,
column){return this.tileMap.get(StringUtil_1.StringUtil.tileMapKey(row,column))}handlesOnAppear(){return true}lockMaxAndMin(){for(let tile of this.tileMap.values())tile.lockMaxAndMin()}onAppear(){super.onAppear();this.addRows();ResizeManager_1.ResizeManager.getInstance().onResize();for(let actionRec of this.deferredActions)this.performAction(actionRec)}onResize(){for(let tile of this.tileMap.values())tile.onResize()}performAction(actionRec){switch(actionRec.action){case constants_1.ActionConstants.ActionClear:this.performActionClear();
break;case constants_1.ActionConstants.ActionSetSize:this.performActionSetSize(actionRec.args);break;case constants_1.ActionConstants.ActionSetTileText:this.performActionSetTileText(actionRec.args);break;default:console.log("performAction action not found",actionRec.action);break}}performActionClear(){this.clear()}performActionSetSize(args){const newSize=args[0];if(this.boardSize==newSize)return;this.resizeBoard(newSize)}performActionSetTileText(args){const row=args[0];const column=args[1];const text=
args[2];const tile=this.getTile(row,column);if(!tile)return;tile.setText(text)}registerTile(tile){this.tileMap.set(tile.mapKey(),tile)}resizeBoard(boardSize){this.boardSize=boardSize;this.removeAll();this.buildTileMap();if(this.hasAppeared)this.addRows()}restore(){for(let tile of this.tileMap.values())tile.restore()}}exports.BoardPanel=BoardPanel},{"../../constants":23,"../../qx/mobile/container/QxVBox":56,"../../util/ResizeManager":96,"../../util/StringUtil":97,"./BoardRow":89,"./BoardTile":90}],
89:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.BoardRow=void 0;const constants_1=require("../../constants");const QxHBox_1=require("../../qx/mobile/container/QxHBox");const BoardTile_1=require("./BoardTile");class BoardRow extends QxHBox_1.QxHBox{constructor(boardPanel,rowIndex,boardSize){super();this.boardPanel=boardPanel;this.rowIndex=rowIndex;this.boardSize=boardSize}initialize(){super.initialize()}addTile(columnIndex){const tile=this.boardPanel.getTile(this.rowIndex,
columnIndex);if(tile)this.addFlex(tile);return tile}addTiles(){for(let columnIndex=0;columnIndex<this.boardSize;columnIndex++){const tile=this.addTile(columnIndex);if(columnIndex<this.boardSize-1&&tile instanceof BoardTile_1.BoardTile)tile.setMarginRightPx(constants_1.SizeConstants.BoardTileColumnSeparatorWidth)}}getTile(index){const child=this.getChild(index);if(child instanceof BoardTile_1.BoardTile)return child;return null}handlesOnAppear(){return true}onAppear(){this.resizeTo(this.boardSize)}resizeTo(boardSize){this.boardSize=
boardSize;this.removeAll();this.addTiles()}}exports.BoardRow=BoardRow},{"../../constants":23,"../../qx/mobile/container/QxHBox":54,"./BoardTile":90}],90:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.BoardTile=void 0;const api_1=require("../../api");const constants_1=require("../../constants");const messages_1=require("../../messages");const QxAtom_1=require("../../qx/mobile/basic/QxAtom");const StringUtil_1=require("../../util/StringUtil");class BoardTile extends QxAtom_1.QxAtom{constructor(boardPanel,
rowIndex,columnIndex){super("");this.cachedText="";this.boardPanel=boardPanel;this.rowIndex=rowIndex;this.columnIndex=columnIndex}cacheAndRelease(){this.cachedText=this.getLabel();this.clear();super.unlockMaxAndMin()}clear(){this.setLabel("")}copy(destTile){}getImage(){}getOffset(direction){}handlesOnAppear(){return true}handlesOnClick(){return true}hideImage(){}hideLabel(){}initialize(){super.initialize();this.setBackgroundColor(constants_1.ColorConstants.BoardTileBackground)}lockMaxAndMin(){super.lockMaxAndMin();
this.setLineHeight(this.getHeight())}mapKey(){return StringUtil_1.StringUtil.tileMapKey(this.rowIndex,this.columnIndex)}onAppear(){super.onAppear();this.setIconStyle(constants_1.StyleConstants.ObjectFit,constants_1.StyleConstants.ObjectFitScaleDown);this.setLabelStyle(constants_1.FontConstants.FONT_FAMILY,constants_1.FontConstants.FontFamilyMonospace);this.setLabelStyle(constants_1.FontConstants.FONT_WEIGHT,constants_1.FontConstants.FontWeightBold);this.setLabelStyle(constants_1.FontConstants.FONT_SIZE,
constants_1.FontConstants.FontSize3Em);const height=this.getHeight();const width=this.getWidth();this.setMaxHeight(height);this.setMaxWidth(width);this.setLabelLineHeightStyle(height);if(this.cachedText.length>0)this.setLabel(this.cachedText)}onClick(){console.log("tile onClick",this);this.postEvent()}onResize(){this.setLabelStyle(constants_1.StyleConstants.LineHeight,this.getHeight())}postEvent(){const eventName=constants_1.EventConstants.BoardTileClicked;const args=[this.rowIndex,this.columnIndex,
this.getLabel()];messages_1.MessageBus.dispatch(eventName,args);api_1.VmApi.postEvent(eventName,args)}restore(){this.setLabel(this.cachedText)}saveValue(){}setImage(image_name_arg){}setText(text){console.log("setText",text,this.hasAppeared,this.getHeight());window.X=this;this.cacheAndRelease();if(this.hasAppeared){this.lockMaxAndMin();this.setLabel(text)}else this.cachedText=text}showImage(){}showText(){}}exports.BoardTile=BoardTile},{"../../api":3,"../../constants":23,"../../messages":43,"../../qx/mobile/basic/QxAtom":52,
"../../util/StringUtil":97}],91:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ButtonBar=void 0;const constants_1=require("../../constants");const QxHBox_1=require("../../qx/mobile/container/QxHBox");const QxButton_1=require("../../qx/mobile/form/QxButton");class ButtonBar extends QxHBox_1.QxHBox{constructor(){super();this.setHeightPx(constants_1.SizeConstants.ButtonBarHeight)}addButton(label,fn){const button=new QxButton_1.QxButton(label,fn);button.setHeightPx(constants_1.SizeConstants.ButtonBarButtonHeight);
this.add(button)}initialize(){super.initialize();this.setBackgroundColor(constants_1.ColorConstants.ButtonBarBackground);this.setPaddingBottomPx(constants_1.SizeConstants.ButtonBarPaddingBottom);this.setPaddingLeftPx(constants_1.SizeConstants.ButtonBarPaddingLeft);this.setPaddingRightPx(constants_1.SizeConstants.ButtonBarPaddingRight);this.setPaddingTopPx(constants_1.SizeConstants.ButtonBarPaddingTop)}}exports.ButtonBar=ButtonBar},{"../../constants":23,"../../qx/mobile/container/QxHBox":54,"../../qx/mobile/form/QxButton":59}],
92:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.DeferredCall=void 0;class DeferredCall{static schedule(fn,context=null){(new window.qx.util.DeferredCall(fn,context)).schedule()}}exports.DeferredCall=DeferredCall},{}],93:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.NavigationUtil=void 0;const PageConstants_1=require("../constants/PageConstants");const QxMobileApplication_1=require("../qx/application/QxMobileApplication");
class NavigationUtil{static showPage(page){switch(page){case PageConstants_1.PageConstants.tagBoard:this.showBoard();break;case PageConstants_1.PageConstants.tagEditor:this.showEditor();break;case PageConstants_1.PageConstants.tagHome:this.showHome();break;case PageConstants_1.PageConstants.tagOverview:this.showOverview();break;case PageConstants_1.PageConstants.tagProjects:this.showProjects();break;case PageConstants_1.PageConstants.tagStatus:this.showStatus();break;case PageConstants_1.PageConstants.tagTranscript:this.showTranscript();
break;default:console.log("showPage",page);break}}static showBoard(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeBoard)}static showEditor(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeEditor)}static showHome(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeHome)}static showOverview(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeOverview)}static showProjects(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeProjects)}static showStatus(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeStatus)}static showTranscript(){QxMobileApplication_1.QxMobileApplication.executeGet(PageConstants_1.PageConstants.routeTranscript)}}
exports.NavigationUtil=NavigationUtil},{"../constants/PageConstants":13,"../qx/application/QxMobileApplication":44}],94:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectRegistry=void 0;class ObjectRegistry{static getId(id){return this.getInstance().getId(id)}static getInstance(){if(!this.instance)this.instance=new ObjectRegistry;return this.instance}static registerObject(obj){return this.getInstance().registerObject(obj)}static removeId(id){this.getInstance().removeId(id)}constructor(){this.objectMap=
new Map}getId(id){return this.objectMap.get(id)}registerObject(obj){const index=obj.getId();this.objectMap.set(index,obj);return index}removeId(id){this.objectMap.delete(id)}}exports.ObjectRegistry=ObjectRegistry},{}],95:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.QxWidgetUtil=void 0;class QxWidgetUtil{static getAllStyles(widget){return widget.getContentElement().getAllStyles()}static getBoundingRect(widget){return widget.getContentElement().getBoundingClientRect()}}
exports.QxWidgetUtil=QxWidgetUtil},{}],96:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.ResizeManager=void 0;const constants_1=require("../constants");class ResizeManager{static getInstance(){if(!this.instance)this.instance=new ResizeManager;return this.instance}static subscribe(subscriber){this.getInstance().subscribe(subscriber)}static unsubscribe(subscriber){this.getInstance().unsubscribe(subscriber)}constructor(){this.subscribers=[];window.qx.event.Registration.addListener(window,
constants_1.EventConstants.QxEventResize,this.onResize,this);window.qx.event.Registration.addListener(window,constants_1.EventConstants.QxEventOrientationChange,this.onOrientation,this)}onOrientation(){var _a;for(let i=0;i<this.subscribers.length;i++)(_a=this.subscribers.at(i))===null||_a===void 0?void 0:_a.onOrientation()}onResize(){var _a;for(let i=0;i<this.subscribers.length;i++)(_a=this.subscribers.at(i))===null||_a===void 0?void 0:_a.onResize()}subscribe(subscriber){if(this.subscribers.includes(subscriber))return;
this.subscribers.push(subscriber)}unsubscribe(subscriber){const index=this.subscribers.indexOf(subscriber);if(index!==-1)this.subscribers.splice(index,1)}}exports.ResizeManager=ResizeManager},{"../constants":23}],97:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.StringUtil=void 0;class StringUtil{static asPixels(value){return`${value}px`}static asTag(text){return text.toLowerCase().replaceAll(" ","_")}static format(template,...args){return window.qx.lang.String.format(template,
args)}static padSpace(text,len){let value=text.toString();while(value.length<len)value=" "+value;return value}static padZero(text,len){let value=text.toString();while(value.length<len)value="0"+value;return value}static spaces(len){return this.padSpace("",len)}static tileMapKey(row,column){return`tile-${row}-${column}`}}exports.StringUtil=StringUtil},{}],98:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.StyleUtil=void 0;class StyleUtil{static createStyleSpan(text,
styles){let styleStr="";styles.forEach((value,key)=>{styleStr+=key;styleStr+=":";styleStr+=value;styleStr+=";"});return`<span style="${styleStr}">${text}</span>`}}exports.StyleUtil=StyleUtil},{}],99:[function(require,module,exports){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))desc={enumerable:true,get:function(){return m[k]}};
Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require("./DeferredCall"),exports);__exportStar(require("./ObjectRegistry"),exports);__exportStar(require("./QxWidgetUtil"),exports);__exportStar(require("./StyleUtil"),
exports)},{"./DeferredCall":92,"./ObjectRegistry":94,"./QxWidgetUtil":95,"./StyleUtil":98}]},{},[38]);
